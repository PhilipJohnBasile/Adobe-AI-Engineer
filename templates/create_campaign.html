<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Campaign - Task 3 Creative Automation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .form-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section-title {
            color: #495057;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <i class="fas fa-magic"></i> Task 3 Creative Automation
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="{{ url_for('index') }}">
                    <i class="fas fa-dashboard"></i> Dashboard
                </a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h4 class="mb-0"><i class="fas fa-plus-circle"></i> Create New Campaign</h4>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{{ url_for('upload_campaign') }}" enctype="multipart/form-data">
                            
                            <!-- Campaign Basics -->
                            <div class="form-section">
                                <h5 class="section-title"><i class="fas fa-info-circle"></i> Campaign Information</h5>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="campaign_name" class="form-label">Campaign Name *</label>
                                            <input type="text" class="form-control" id="campaign_name" name="campaign_name" 
                                                   placeholder="e.g., Holiday Tech Collection 2024" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="campaign_id" class="form-label">Campaign ID</label>
                                            <input type="text" class="form-control" id="campaign_id" name="campaign_id" 
                                                   placeholder="Auto-generated if empty">
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="target_region" class="form-label">Target Region</label>
                                            <select class="form-select" id="target_region" name="target_region">
                                                <option value="Global">Global</option>
                                                <option value="North America">North America</option>
                                                <option value="Europe">Europe</option>
                                                <option value="Asia Pacific">Asia Pacific</option>
                                                <option value="Latin America">Latin America</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="target_audience" class="form-label">Target Audience</label>
                                            <input type="text" class="form-control" id="target_audience" name="target_audience" 
                                                   placeholder="e.g., Tech enthusiasts, Young professionals">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="campaign_message" class="form-label">Campaign Message</label>
                                    <textarea class="form-control" id="campaign_message" name="campaign_message" rows="3" 
                                              placeholder="The main message for your campaign..."></textarea>
                                </div>
                            </div>

                            <!-- Products -->
                            <div class="form-section">
                                <h5 class="section-title"><i class="fas fa-box"></i> Products</h5>
                                
                                <div class="mb-3">
                                    <label for="products" class="form-label">Products (comma-separated) *</label>
                                    <input type="text" class="form-control" id="products" name="products" 
                                           placeholder="e.g., Smartphone Pro, Wireless Earbuds, Smart Watch" required>
                                    <div class="form-text">Enter product names separated by commas</div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="target_variants" class="form-label">Target Variants per Product</label>
                                            <input type="number" class="form-control" id="target_variants" name="target_variants" 
                                                   value="5" min="1" max="20">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="style" class="form-label">Creative Style</label>
                                            <select class="form-select" id="style" name="style">
                                                <option value="modern">Modern</option>
                                                <option value="minimalist">Minimalist</option>
                                                <option value="bold">Bold</option>
                                                <option value="elegant">Elegant</option>
                                                <option value="playful">Playful</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Creative Requirements -->
                            <div class="form-section">
                                <h5 class="section-title"><i class="fas fa-palette"></i> Creative Requirements</h5>
                                
                                <div class="mb-3">
                                    <label class="form-label">Aspect Ratios *</label>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="aspect_ratios" 
                                                       value="1:1" id="ratio_1_1" checked>
                                                <label class="form-check-label" for="ratio_1_1">
                                                    1:1 (Square - Instagram)
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="aspect_ratios" 
                                                       value="9:16" id="ratio_9_16" checked>
                                                <label class="form-check-label" for="ratio_9_16">
                                                    9:16 (Stories)
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="aspect_ratios" 
                                                       value="16:9" id="ratio_16_9" checked>
                                                <label class="form-check-label" for="ratio_16_9">
                                                    16:9 (Landscape)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="colors" class="form-label">Brand Colors</label>
                                            <input type="text" class="form-control" id="colors" name="colors" 
                                                   placeholder="e.g., blue, white, gold">
                                            <div class="form-text">Enter colors separated by commas</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="quality" class="form-label">Quality Level</label>
                                            <select class="form-select" id="quality" name="quality">
                                                <option value="standard">Standard</option>
                                                <option value="high" selected>High</option>
                                                <option value="premium">Premium</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- File Upload -->
                            <div class="form-section">
                                <h5 class="section-title"><i class="fas fa-upload"></i> Or Upload Campaign Brief</h5>
                                
                                <div class="mb-3">
                                    <label for="file" class="form-label">Upload Existing Campaign Brief</label>
                                    <input type="file" class="form-control" id="file" name="file" 
                                           accept=".yaml,.yml,.json">
                                    <div class="form-text">
                                        Upload a YAML or JSON file instead of filling the form. 
                                        This will override the form data above.
                                    </div>
                                </div>
                            </div>

                            <!-- Submit -->
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <a href="{{ url_for('index') }}" class="btn btn-secondary me-md-2">
                                    <i class="fas fa-times"></i> Cancel
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Create Campaign
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Quick Examples -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h6 class="card-title"><i class="fas fa-lightbulb"></i> Quick Examples</h6>
                        <div class="row">
                            <div class="col-md-4">
                                <button class="btn btn-outline-info btn-sm" onclick="loadExample('tech')">
                                    Tech Products
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-info btn-sm" onclick="loadExample('fashion')">
                                    Fashion Campaign
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-info btn-sm" onclick="loadExample('food')">
                                    Food & Beverage
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function loadExample(type) {
            const examples = {
                tech: {
                    campaign_name: 'Holiday Tech Collection 2024',
                    products: 'Smartphone Pro, Wireless Earbuds, Smart Watch',
                    target_variants: 6,
                    target_region: 'Global',
                    target_audience: 'Tech enthusiasts aged 25-45',
                    campaign_message: 'Discover the perfect tech gifts for the holidays',
                    style: 'modern',
                    colors: 'blue, silver, black'
                },
                fashion: {
                    campaign_name: 'Spring Fashion Launch',
                    products: 'Casual Dress, Designer Jeans, Summer Shoes',
                    target_variants: 4,
                    target_region: 'North America',
                    target_audience: 'Fashion-forward women 20-35',
                    campaign_message: 'Embrace spring with our latest collection',
                    style: 'elegant',
                    colors: 'pink, white, gold'
                },
                food: {
                    campaign_name: 'Healthy Snacks Promotion',
                    products: 'Protein Bars, Organic Chips, Green Tea',
                    target_variants: 5,
                    target_region: 'Global',
                    target_audience: 'Health-conscious consumers',
                    campaign_message: 'Fuel your day with healthy choices',
                    style: 'minimalist',
                    colors: 'green, white, orange'
                }
            };

            const example = examples[type];
            if (example) {
                Object.keys(example).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = example[key];
                    }
                });
            }
        }

        // Auto-generate campaign ID if name changes
        document.getElementById('campaign_name').addEventListener('input', function() {
            const name = this.value;
            const id = name.toLowerCase()
                          .replace(/[^a-z0-9\s]/g, '')
                          .replace(/\s+/g, '_')
                          .substring(0, 30);
            document.getElementById('campaign_id').value = id;
        });
    </script>
</body>
</html>