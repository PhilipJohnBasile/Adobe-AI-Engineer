<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adobe Creative Automation Platform</title>
    <link href="{{ url_for('static', filename='css/adobe-theme.css') }}" rel="stylesheet">
    <style>
        /* Modern, clean layout */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        .dashboard-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
            background: #f5f5f5;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            background: white;
            border-right: 1px solid #e1e1e1;
            padding: 2rem 0;
        }
        
        .sidebar-brand {
            padding: 0 2rem 2rem;
            border-bottom: 1px solid #e1e1e1;
        }
        
        .sidebar-brand h2 {
            font-size: 1.25rem;
            color: #2c2c2c;
            font-weight: 700;
        }
        
        .nav-section {
            padding: 1.5rem 0;
        }
        
        .nav-title {
            padding: 0 2rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #6e6e6e;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 2rem;
            color: #505050;
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            font-size: 0.875rem;
        }
        
        .nav-item:hover {
            background: #f5f5f5;
            color: #1473e6;
        }
        
        .nav-item.active {
            background: #e8f1fd;
            color: #1473e6;
            border-left: 3px solid #1473e6;
        }
        
        .nav-icon {
            width: 20px;
            margin-right: 12px;
            font-size: 1.1rem;
        }
        
        /* Main Content */
        .main-content {
            padding: 2rem;
            overflow-y: auto;
        }
        
        .page-header {
            margin-bottom: 2rem;
        }
        
        .page-title {
            font-size: 2rem;
            color: #2c2c2c;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .page-subtitle {
            color: #6e6e6e;
            font-size: 0.875rem;
        }
        
        /* Metric Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .metric-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid #e1e1e1;
            position: relative;
            overflow: hidden;
        }
        
        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #1473e6, #2680eb);
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2c2c2c;
            margin-bottom: 0.25rem;
        }
        
        .metric-label {
            color: #6e6e6e;
            font-size: 0.875rem;
        }
        
        .metric-trend {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }
        
        .trend-up {
            background: #e7f6f1;
            color: #2d9d78;
        }
        
        .trend-down {
            background: #ffe8ea;
            color: #e34850;
        }
        
        /* Campaign Cards - Visual */
        .campaigns-container {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid #e1e1e1;
            margin-bottom: 2rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2c2c2c;
        }
        
        .campaigns-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }
        
        .campaign-visual {
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .campaign-visual:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .campaign-preview {
            height: 140px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .campaign-preview-icon {
            font-size: 3rem;
            color: white;
            opacity: 0.9;
        }
        
        .campaign-status-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            background: white;
            color: #2c2c2c;
        }
        
        .campaign-details {
            padding: 1rem;
        }
        
        .campaign-name {
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 0.5rem;
        }
        
        .campaign-info {
            font-size: 0.75rem;
            color: #6e6e6e;
            margin-bottom: 1rem;
        }
        
        .campaign-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #e1e1e1;
            border-radius: 4px;
            background: white;
            color: #505050;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #1473e6;
            color: white;
            border-color: #1473e6;
        }
        
        /* Activity Feed */
        .activity-feed {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid #e1e1e1;
        }
        
        .activity-item {
            display: flex;
            padding: 1rem 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.25rem;
        }
        
        .activity-icon.success {
            background: #e7f6f1;
            color: #2d9d78;
        }
        
        .activity-icon.warning {
            background: #fff3e5;
            color: #f29423;
        }
        
        .activity-icon.info {
            background: #e8f1fd;
            color: #1473e6;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 0.25rem;
        }
        
        .activity-description {
            font-size: 0.875rem;
            color: #6e6e6e;
        }
        
        .activity-time {
            font-size: 0.75rem;
            color: #6e6e6e;
        }
        
        /* Quick Actions - Visual Tiles */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .quick-action-tile {
            background: white;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            color: #2c2c2c;
        }
        
        .quick-action-tile:hover {
            border-color: #1473e6;
            background: #f8fbff;
            transform: translateY(-2px);
        }
        
        .quick-action-icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
        }
        
        .quick-action-label {
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        /* Content Sections */
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #6e6e6e;
        }
        
        .empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }
        
        .empty-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2c2c2c;
        }
        
        .empty-description {
            margin-bottom: 1.5rem;
        }
        
        /* Primary Button */
        .btn-primary {
            background: #1473e6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary:hover {
            background: #0d66d0;
        }
        
        /* Status Pills */
        .status-pill {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .status-active {
            background: #e7f6f1;
            color: #2d9d78;
        }
        
        .status-pending {
            background: #fff3e5;
            color: #f29423;
        }
        
        .status-error {
            background: #ffe8ea;
            color: #e34850;
        }
        /* Additional Styles */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .tool-card {
            background: white;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tool-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #1473e6;
        }
        
        .tool-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .tool-name {
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 0.25rem;
        }
        
        .tool-desc {
            font-size: 0.75rem;
            color: #6e6e6e;
        }
        
        .data-table {
            width: 100%;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e1e1e1;
        }
        
        .data-table th {
            background: #f5f5f5;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #2c2c2c;
            border-bottom: 1px solid #e1e1e1;
        }
        
        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .data-table tr:hover {
            background: #f8f8f8;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .feature-card p {
            opacity: 0.9;
            line-height: 1.6;
        }
        
        /* Data Explorer Styles */
        .data-grid {
            margin-top: 1.5rem;
        }
        
        .data-table-wrapper {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e1e1e1;
        }
        
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .image-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e1e1e1;
            transition: all 0.2s;
        }
        
        .image-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .image-preview {
            height: 150px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-info {
            padding: 1rem;
        }
        
        .image-info h4 {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: #2c2c2c;
        }
        
        .image-info p {
            font-size: 0.75rem;
            color: #6e6e6e;
        }
        
        .btn-small {
            padding: 0.25rem 0.75rem;
            background: #1473e6;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .btn-small:hover {
            background: #0d66d0;
        }
        
        .badge {
            padding: 0.125rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            background: #f5f5f5;
            color: #505050;
        }
        
        .badge-high {
            background: #ffe8ea;
            color: #e34850;
        }
        
        .badge-medium {
            background: #fff3e5;
            color: #f29423;
        }
        
        .badge-low {
            background: #e7f6f1;
            color: #2d9d78;
        }
        
        .text-small {
            font-size: 0.75rem;
        }
        
        .nav-subsection {
            background: rgba(20, 115, 230, 0.05);
            border-left: 2px solid #1473e6;
            margin-top: 0.25rem;
        }
        
        .nav-subsection .nav-item {
            font-size: 0.813rem;
            padding: 0.5rem 2rem;
        }
    </style>
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-brand">
                <h2>Creative Platform</h2>
            </div>
            
            <nav>
                <div class="nav-section">
                    <div class="nav-title">Main</div>
                    <a href="#" class="nav-item active" onclick="showSection('dashboard')">
                        <span class="nav-icon">üìä</span>
                        Dashboard
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('campaigns')">
                        <span class="nav-icon">üéØ</span>
                        Campaigns
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('assets')">
                        <span class="nav-icon">üñºÔ∏è</span>
                        Assets
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('analytics')">
                        <span class="nav-icon">üìà</span>
                        Analytics
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-title">Tools</div>
                    <a href="{{ url_for('create_campaign') }}" class="nav-item">
                        <span class="nav-icon">‚ûï</span>
                        New Campaign
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('enterprise')">
                        <span class="nav-icon">üè¢</span>
                        Enterprise Suite
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('automation')">
                        <span class="nav-icon">ü§ñ</span>
                        Automation Hub
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('compliance')">
                        <span class="nav-icon">‚öñÔ∏è</span>
                        Compliance
                    </a>
                    <a href="{{ url_for('cli_commands') }}" class="nav-item">
                        <span class="nav-icon">‚ö°</span>
                        CLI Tools
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-title">AI Suite</div>
                    <a href="#" class="nav-item" onclick="showSection('ai-tools')">
                        <span class="nav-icon">ü§ñ</span>
                        AI Tools
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('explorer')">
                        <span class="nav-icon">üìÇ</span>
                        Data Explorer
                    </a>
                    <div class="nav-subsection" id="explorer-submenu" style="display: none; margin-left: 1rem;">
                        <a href="#" class="nav-item" onclick="showSection('explorer'); showDataCategory('campaigns')">
                            <span class="nav-icon">üìÑ</span>
                            Campaigns
                        </a>
                        <a href="#" class="nav-item" onclick="showSection('explorer'); showDataCategory('images')">
                            <span class="nav-icon">üñºÔ∏è</span>
                            Images
                        </a>
                        <a href="#" class="nav-item" onclick="showSection('explorer'); showDataCategory('logs')">
                            <span class="nav-icon">üìä</span>
                            Logs
                        </a>
                        <a href="#" class="nav-item" onclick="showSection('explorer'); showDataCategory('alerts')">
                            <span class="nav-icon">üîî</span>
                            Alerts
                        </a>
                    </div>
                    <a href="#" class="nav-item" onclick="showSection('advanced')">
                        <span class="nav-icon">üî¨</span>
                        Advanced
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-title">System</div>
                    <a href="#" class="nav-item" onclick="showSection('monitor')">
                        <span class="nav-icon">üîî</span>
                        AI Monitor
                    </a>
                    <a href="{{ url_for('api_status') }}" class="nav-item">
                        <span class="nav-icon">üîß</span>
                        API Status
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('settings')">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        Settings
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <div id="dashboard" class="content-section active">
                <div class="page-header">
                    <h1 class="page-title">Dashboard</h1>
                    <p class="page-subtitle">Welcome back! Here's what's happening with your creative automation platform.</p>
                </div>
                
                <!-- Key Metrics -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">{{ status.total_campaigns or 0 }}</div>
                        <div class="metric-label">Total Campaigns</div>
                        <span class="metric-trend trend-up">+12%</span>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">{{ status.total_outputs or 0 }}</div>
                        <div class="metric-label">Assets Generated</div>
                        <span class="metric-trend trend-up">+28%</span>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">{{ (status.total_campaigns or 0) * 3 }}</div>
                        <div class="metric-label">Variants Created</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">98%</div>
                        <div class="metric-label">Compliance Score</div>
                        <span class="metric-trend trend-up">+2%</span>
                    </div>
                </div>
                
                <!-- System Overview Cards -->
                <div class="campaigns-container" style="margin-bottom: 2rem;">
                    <div class="section-header">
                        <h2 class="section-title">System Overview</h2>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value">42</div>
                            <div class="metric-label">AI Models Active</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">1,247</div>
                            <div class="metric-label">API Calls Today</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">99.9%</div>
                            <div class="metric-label">Uptime</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">16ms</div>
                            <div class="metric-label">Avg Response Time</div>
                        </div>
                    </div>
                </div>
                
                <!-- Feature Highlights -->
                <div class="campaigns-container" style="margin-bottom: 2rem;">
                    <div class="section-header">
                        <h2 class="section-title">Featured Capabilities</h2>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                            <div class="metric-value">60+</div>
                            <div class="metric-label" style="color: rgba(255,255,255,0.9);">AI Tools Available</div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;">
                            <div class="metric-value">15</div>
                            <div class="metric-label" style="color: rgba(255,255,255,0.9);">Model Integrations</div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white;">
                            <div class="metric-value">Real-time</div>
                            <div class="metric-label" style="color: rgba(255,255,255,0.9);">Processing</div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #43e97b, #38f9d7); color: white;">
                            <div class="metric-value">Enterprise</div>
                            <div class="metric-label" style="color: rgba(255,255,255,0.9);">Grade Security</div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <a href="{{ url_for('create_campaign') }}" class="quick-action-tile">
                        <div class="quick-action-icon">üöÄ</div>
                        <div class="quick-action-label">Create Campaign</div>
                    </a>
                    
                    <div class="quick-action-tile" onclick="runPipeline()">
                        <div class="quick-action-icon">‚öôÔ∏è</div>
                        <div class="quick-action-label">Run Pipeline</div>
                    </div>
                    
                    <a href="{{ url_for('list_all_outputs') }}" class="quick-action-tile">
                        <div class="quick-action-icon">üñºÔ∏è</div>
                        <div class="quick-action-label">View Gallery</div>
                    </a>
                    
                    <div class="quick-action-tile" onclick="showSection('analytics')">
                        <div class="quick-action-icon">üìä</div>
                        <div class="quick-action-label">Analytics</div>
                    </div>
                    
                    <a href="{{ url_for('data_explorer') }}" class="quick-action-tile">
                        <div class="quick-action-icon">üîç</div>
                        <div class="quick-action-label">Explore Data</div>
                    </a>
                    
                    <div class="quick-action-tile" onclick="showSection('monitor')">
                        <div class="quick-action-icon">ü§ñ</div>
                        <div class="quick-action-label">AI Monitor</div>
                    </div>
                </div>
                
                <!-- Recent Campaigns -->
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Recent Campaigns</h2>
                        <a href="{{ url_for('create_campaign') }}" class="btn-primary">New Campaign</a>
                    </div>
                    
                    {% if campaigns %}
                    <div class="campaigns-grid">
                        {% for campaign in campaigns[:3] %}
                        <div class="campaign-visual">
                            <div class="campaign-preview">
                                <div class="campaign-preview-icon">üìÑ</div>
                                <span class="campaign-status-badge">Active</span>
                            </div>
                            <div class="campaign-details">
                                <div class="campaign-name">{{ campaign.name }}</div>
                                <div class="campaign-info">
                                    {{ campaign.products|length if campaign.products else 0 }} products ‚Ä¢ 
                                    {{ campaign.date }}
                                </div>
                                <div class="campaign-actions">
                                    <a href="{{ url_for('view_campaign', campaign_id=campaign.id) }}" class="action-btn">View</a>
                                    <button onclick="runPipeline('{{ campaign.id }}')" class="action-btn">Run</button>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div class="empty-state">
                        <div class="empty-icon">üì≠</div>
                        <div class="empty-title">No campaigns yet</div>
                        <div class="empty-description">Create your first campaign to start generating creative assets</div>
                        <a href="{{ url_for('create_campaign') }}" class="btn-primary">Create Campaign</a>
                    </div>
                    {% endif %}
                </div>
                
                <!-- Activity Feed -->
                <div class="activity-feed">
                    <div class="section-header">
                        <h2 class="section-title">Recent Activity</h2>
                    </div>
                    
                    <div id="activity-list">
                        <!-- Activities will be loaded here -->
                        <div class="activity-item">
                            <div class="activity-icon success">‚úì</div>
                            <div class="activity-content">
                                <div class="activity-title">Pipeline completed</div>
                                <div class="activity-description">Generated 12 assets for Holiday Campaign 2024</div>
                            </div>
                            <div class="activity-time">2 min ago</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon info">üìä</div>
                            <div class="activity-content">
                                <div class="activity-title">Analytics report ready</div>
                                <div class="activity-description">Q4 performance metrics are now available</div>
                            </div>
                            <div class="activity-time">15 min ago</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon warning">‚ö†Ô∏è</div>
                            <div class="activity-content">
                                <div class="activity-title">Compliance check</div>
                                <div class="activity-description">Review required for 2 assets</div>
                            </div>
                            <div class="activity-time">1 hour ago</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Campaigns Section -->
            <div id="campaigns" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Campaigns</h1>
                    <p class="page-subtitle">Manage your creative campaigns and automation pipelines</p>
                </div>
                
                <div class="campaigns-container">
                    <!-- Campaign management interface -->
                    <p>Campaign management interface coming soon...</p>
                </div>
            </div>
            
            <!-- Assets Section -->
            <div id="assets" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Assets Library</h1>
                    <p class="page-subtitle">Browse and manage generated creative assets</p>
                </div>
                
                <div class="campaigns-container">
                    <iframe src="{{ url_for('list_all_outputs') }}" style="width: 100%; height: 600px; border: none; border-radius: 8px;"></iframe>
                </div>
            </div>
            
            <!-- Analytics Section -->
            <div id="analytics" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Analytics</h1>
                    <p class="page-subtitle">Performance metrics and insights</p>
                </div>
                
                <div class="campaigns-container">
                    <iframe src="{{ url_for('analytics') }}" style="width: 100%; height: 600px; border: none; border-radius: 8px;"></iframe>
                </div>
            </div>
            
            <!-- Monitor Section -->
            <div id="monitor" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">AI Monitor</h1>
                    <p class="page-subtitle">Real-time system monitoring and alerts</p>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">
                            <span class="status-pill status-active">Active</span>
                        </div>
                        <div class="metric-label">System Status</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="alerts-count">0</div>
                        <div class="metric-label">Active Alerts</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="campaigns-monitored">{{ campaigns|length }}</div>
                        <div class="metric-label">Campaigns Monitored</div>
                    </div>
                </div>
                
                <div class="activity-feed">
                    <div class="section-header">
                        <h2 class="section-title">System Alerts</h2>
                    </div>
                    <div id="monitor-alerts">
                        <!-- Alerts will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Data Explorer Section -->
            <div id="explorer" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Data Explorer</h1>
                    <p class="page-subtitle">Comprehensive view of all system data and resources</p>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">668</div>
                        <div class="metric-label">Total Files</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">{{ campaigns|length }}</div>
                        <div class="metric-label">Campaigns</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">{{ outputs|length }}</div>
                        <div class="metric-label">Images</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">12</div>
                        <div class="metric-label">Reports</div>
                    </div>
                </div>
                
                <!-- Data Categories Grid -->
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Data Categories</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="showDataCategory('campaigns')">
                            <div class="quick-action-icon">üìÑ</div>
                            <div class="quick-action-label">Campaign Briefs</div>
                        </div>
                        <div class="quick-action-tile" onclick="showDataCategory('images')">
                            <div class="quick-action-icon">üñºÔ∏è</div>
                            <div class="quick-action-label">Generated Images</div>
                        </div>
                        <div class="quick-action-tile" onclick="showDataCategory('logs')">
                            <div class="quick-action-icon">üìä</div>
                            <div class="quick-action-label">System Logs</div>
                        </div>
                        <div class="quick-action-tile" onclick="showDataCategory('alerts')">
                            <div class="quick-action-icon">üîî</div>
                            <div class="quick-action-label">Alert History</div>
                        </div>
                        <div class="quick-action-tile" onclick="showDataCategory('analytics')">
                            <div class="quick-action-icon">üìà</div>
                            <div class="quick-action-label">Analytics Data</div>
                        </div>
                        <div class="quick-action-tile" onclick="showDataCategory('reports')">
                            <div class="quick-action-icon">üìë</div>
                            <div class="quick-action-label">Reports</div>
                        </div>
                    </div>
                </div>
                
                <!-- Data Content Area -->
                <div id="data-content" class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title" id="data-category-title">Select a category</h2>
                    </div>
                    <div id="data-grid" class="data-grid">
                        <!-- Dynamic content will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- AI Tools Section -->
            <div id="ai-tools" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">AI Tools & Features</h1>
                    <p class="page-subtitle">Comprehensive suite of AI-powered tools for creative automation</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Creative Generation</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('image_generation')">
                            <div class="quick-action-icon">üé®</div>
                            <div class="quick-action-label">Image Generation</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('video_creation')">
                            <div class="quick-action-icon">üé¨</div>
                            <div class="quick-action-label">Video Creation</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('copy_writing')">
                            <div class="quick-action-icon">‚úçÔ∏è</div>
                            <div class="quick-action-label">Copy Writing</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('voice_synthesis')">
                            <div class="quick-action-icon">üé§</div>
                            <div class="quick-action-label">Voice Synthesis</div>
                        </div>
                    </div>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Content Optimization</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('ab_testing')">
                            <div class="quick-action-icon">üß™</div>
                            <div class="quick-action-label">A/B Testing</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('personalization')">
                            <div class="quick-action-icon">üë§</div>
                            <div class="quick-action-label">Personalization</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('sentiment_analysis')">
                            <div class="quick-action-icon">üí≠</div>
                            <div class="quick-action-label">Sentiment Analysis</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('trend_prediction')">
                            <div class="quick-action-icon">üìä</div>
                            <div class="quick-action-label">Trend Prediction</div>
                        </div>
                    </div>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Compliance & Quality</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('brand_compliance')">
                            <div class="quick-action-icon">‚úÖ</div>
                            <div class="quick-action-label">Brand Compliance</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('legal_review')">
                            <div class="quick-action-icon">‚öñÔ∏è</div>
                            <div class="quick-action-label">Legal Review</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('accessibility_check')">
                            <div class="quick-action-icon">‚ôø</div>
                            <div class="quick-action-label">Accessibility</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('quality_scoring')">
                            <div class="quick-action-icon">üèÜ</div>
                            <div class="quick-action-label">Quality Scoring</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Advanced Tools Section -->
            <div id="advanced" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Advanced Analytics & Insights</h1>
                    <p class="page-subtitle">Deep dive into performance metrics and predictive analytics</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Performance Analytics</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('roi_calculator')">
                            <div class="quick-action-icon">üí∞</div>
                            <div class="quick-action-label">ROI Calculator</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('engagement_metrics')">
                            <div class="quick-action-icon">üìà</div>
                            <div class="quick-action-label">Engagement Metrics</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('conversion_tracking')">
                            <div class="quick-action-icon">üéØ</div>
                            <div class="quick-action-label">Conversion Tracking</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('audience_insights')">
                            <div class="quick-action-icon">üë•</div>
                            <div class="quick-action-label">Audience Insights</div>
                        </div>
                    </div>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Market Intelligence</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('competitor_analysis')">
                            <div class="quick-action-icon">üîç</div>
                            <div class="quick-action-label">Competitor Analysis</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('market_trends')">
                            <div class="quick-action-icon">üåê</div>
                            <div class="quick-action-label">Market Trends</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('social_listening')">
                            <div class="quick-action-icon">üëÇ</div>
                            <div class="quick-action-label">Social Listening</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('influencer_finder')">
                            <div class="quick-action-icon">‚≠ê</div>
                            <div class="quick-action-label">Influencer Finder</div>
                        </div>
                    </div>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Workflow Automation</h2>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-tile" onclick="runAITool('workflow_builder')">
                            <div class="quick-action-icon">üîÑ</div>
                            <div class="quick-action-label">Workflow Builder</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('batch_processor')">
                            <div class="quick-action-icon">‚ö°</div>
                            <div class="quick-action-label">Batch Processor</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('scheduler')">
                            <div class="quick-action-icon">üìÖ</div>
                            <div class="quick-action-label">Campaign Scheduler</div>
                        </div>
                        <div class="quick-action-tile" onclick="runAITool('api_integrations')">
                            <div class="quick-action-icon">üîó</div>
                            <div class="quick-action-label">API Integrations</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Enterprise Tools Section -->
            <div id="enterprise" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Enterprise AI Suite</h1>
                    <p class="page-subtitle">Advanced enterprise-grade tools for large-scale operations</p>
                </div>
                
                <div class="feature-card">
                    <h3>üè¢ System-Wide AI Capabilities</h3>
                    <p>Comprehensive suite of 60+ AI tools designed for enterprise creative automation at scale.</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Content Generation Suite</h2>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card" onclick="runAITool('3d_modeling')">
                            <div class="tool-icon">üé®</div>
                            <div class="tool-name">3D Modeling</div>
                            <div class="tool-desc">AI-powered 3D asset creation</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('animation_engine')">
                            <div class="tool-icon">üé≠</div>
                            <div class="tool-name">Animation Engine</div>
                            <div class="tool-desc">Automated motion graphics</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('music_composer')">
                            <div class="tool-icon">üéµ</div>
                            <div class="tool-name">Music Composer</div>
                            <div class="tool-desc">AI-generated soundtracks</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('font_generator')">
                            <div class="tool-icon">üî§</div>
                            <div class="tool-name">Font Generator</div>
                            <div class="tool-desc">Custom typography creation</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('color_palette')">
                            <div class="tool-icon">üé®</div>
                            <div class="tool-name">Color Palette AI</div>
                            <div class="tool-desc">Intelligent color schemes</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('layout_optimizer')">
                            <div class="tool-icon">üìê</div>
                            <div class="tool-name">Layout Optimizer</div>
                            <div class="tool-desc">AI-driven design layouts</div>
                        </div>
                    </div>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Campaign Intelligence</h2>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card" onclick="runAITool('budget_optimizer')">
                            <div class="tool-icon">üíµ</div>
                            <div class="tool-name">Budget Optimizer</div>
                            <div class="tool-desc">Smart budget allocation</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('channel_predictor')">
                            <div class="tool-icon">üì°</div>
                            <div class="tool-name">Channel Predictor</div>
                            <div class="tool-desc">Optimal channel selection</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('timing_optimizer')">
                            <div class="tool-icon">‚è∞</div>
                            <div class="tool-name">Timing Optimizer</div>
                            <div class="tool-desc">Best posting times AI</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('geo_targeting')">
                            <div class="tool-icon">üåç</div>
                            <div class="tool-name">Geo-Targeting AI</div>
                            <div class="tool-desc">Location-based optimization</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('demographic_analyzer')">
                            <div class="tool-icon">üë•</div>
                            <div class="tool-name">Demographic Analyzer</div>
                            <div class="tool-desc">Audience segmentation</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('behavior_predictor')">
                            <div class="tool-icon">üîÆ</div>
                            <div class="tool-name">Behavior Predictor</div>
                            <div class="tool-desc">User behavior forecasting</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Automation Hub Section -->
            <div id="automation" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Automation Hub</h1>
                    <p class="page-subtitle">End-to-end workflow automation and orchestration</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Workflow Automation</h2>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card" onclick="runAITool('pipeline_builder')">
                            <div class="tool-icon">üîß</div>
                            <div class="tool-name">Pipeline Builder</div>
                            <div class="tool-desc">Visual workflow creation</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('task_scheduler')">
                            <div class="tool-icon">üìÖ</div>
                            <div class="tool-name">Task Scheduler</div>
                            <div class="tool-desc">Automated task management</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('resource_allocator')">
                            <div class="tool-icon">‚öñÔ∏è</div>
                            <div class="tool-name">Resource Allocator</div>
                            <div class="tool-desc">Smart resource distribution</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('error_handler')">
                            <div class="tool-icon">üõ°Ô∏è</div>
                            <div class="tool-name">Error Handler</div>
                            <div class="tool-desc">Automated error recovery</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('performance_monitor')">
                            <div class="tool-icon">üìä</div>
                            <div class="tool-name">Performance Monitor</div>
                            <div class="tool-desc">Real-time metrics tracking</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('load_balancer')">
                            <div class="tool-icon">‚ö°</div>
                            <div class="tool-name">Load Balancer</div>
                            <div class="tool-desc">Distributed processing</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Compliance Center Section -->
            <div id="compliance" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Compliance & Governance</h1>
                    <p class="page-subtitle">Ensure brand consistency and regulatory compliance</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Compliance Tools</h2>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card" onclick="runAITool('gdpr_checker')">
                            <div class="tool-icon">üîí</div>
                            <div class="tool-name">GDPR Checker</div>
                            <div class="tool-desc">Privacy compliance</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('copyright_scanner')">
                            <div class="tool-icon">¬©Ô∏è</div>
                            <div class="tool-name">Copyright Scanner</div>
                            <div class="tool-desc">IP protection</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('language_checker')">
                            <div class="tool-icon">üìù</div>
                            <div class="tool-name">Language Checker</div>
                            <div class="tool-desc">Content appropriateness</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('brand_guardian')">
                            <div class="tool-icon">üõ°Ô∏è</div>
                            <div class="tool-name">Brand Guardian</div>
                            <div class="tool-desc">Brand guideline enforcement</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('audit_trail')">
                            <div class="tool-icon">üìã</div>
                            <div class="tool-name">Audit Trail</div>
                            <div class="tool-desc">Complete activity logging</div>
                        </div>
                        <div class="tool-card" onclick="runAITool('approval_workflow')">
                            <div class="tool-icon">‚úÖ</div>
                            <div class="tool-name">Approval Workflow</div>
                            <div class="tool-desc">Multi-level approvals</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Settings Section -->
            <div id="settings" class="content-section">
                <div class="page-header">
                    <h1 class="page-title">Settings</h1>
                    <p class="page-subtitle">Configure your platform preferences and integrations</p>
                </div>
                
                <div class="campaigns-container">
                    <div class="section-header">
                        <h2 class="section-title">Platform Configuration</h2>
                    </div>
                    <div style="padding: 2rem;">
                        <h3>API Configuration</h3>
                        <p style="margin: 1rem 0;">Configure your AI model endpoints and API keys</p>
                        <button class="btn-primary">Configure APIs</button>
                        
                        <h3 style="margin-top: 2rem;">User Preferences</h3>
                        <p style="margin: 1rem 0;">Customize your dashboard and notification settings</p>
                        <button class="btn-primary">Edit Preferences</button>
                        
                        <h3 style="margin-top: 2rem;">Team Management</h3>
                        <p style="margin: 1rem 0;">Manage team members and permissions</p>
                        <button class="btn-primary">Manage Team</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        // Section navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            const section = document.getElementById(sectionName);
            if (section) {
                section.classList.add('active');
            }
            
            // Mark nav item as active
            if (event && event.target) {
                event.target.closest('.nav-item').classList.add('active');
            }
            
            // Toggle explorer submenu
            const explorerSubmenu = document.getElementById('explorer-submenu');
            if (explorerSubmenu) {
                explorerSubmenu.style.display = sectionName === 'explorer' ? 'block' : 'none';
            }
        }
        
        // Show data category
        function showDataCategory(category) {
            const titleElement = document.getElementById('data-category-title');
            const gridElement = document.getElementById('data-grid');
            
            const titles = {
                campaigns: 'Campaign Briefs',
                images: 'Generated Images',
                logs: 'System Logs',
                alerts: 'Alert History',
                analytics: 'Analytics Data',
                reports: 'Reports'
            };
            
            if (titleElement) {
                titleElement.textContent = titles[category] || 'Data';
            }
            
            // Load data based on category
            if (category === 'campaigns') {
                fetch('/api/explorer/campaigns')
                    .then(response => response.json())
                    .then(data => {
                        gridElement.innerHTML = `
                            <div class="data-table-wrapper">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Campaign Name</th>
                                            <th>Products</th>
                                            <th>Region</th>
                                            <th>Created</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${data.campaigns.map(c => `
                                            <tr>
                                                <td>${c.name}</td>
                                                <td>${c.products ? c.products.length : 0} products</td>
                                                <td>${c.region || 'Global'}</td>
                                                <td>${c.created}</td>
                                                <td>
                                                    <button class="btn-small" onclick="viewCampaign('${c.id}')">View</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        `;
                    });
            } else if (category === 'images') {
                fetch('/api/explorer/images')
                    .then(response => response.json())
                    .then(data => {
                        gridElement.innerHTML = `
                            <div class="image-grid">
                                ${data.images.map(img => `
                                    <div class="image-card">
                                        <div class="image-preview">
                                            <img src="/image/${img.campaign}/${img.path}" alt="${img.name}" />
                                        </div>
                                        <div class="image-info">
                                            <h4>${img.name}</h4>
                                            <p>${img.campaign}</p>
                                            <p class="text-small">${img.size}</p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    });
            } else if (category === 'logs') {
                fetch('/api/explorer/logs')
                    .then(response => response.json())
                    .then(data => {
                        gridElement.innerHTML = `
                            <div class="data-table-wrapper">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>File</th>
                                            <th>Type</th>
                                            <th>Size</th>
                                            <th>Modified</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${data.logs.map(log => `
                                            <tr>
                                                <td>${log.name}</td>
                                                <td><span class="badge">${log.type}</span></td>
                                                <td>${log.size}</td>
                                                <td>${log.modified}</td>
                                                <td>
                                                    <button class="btn-small" onclick="downloadFile('${log.path}')">Download</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        `;
                    });
            } else if (category === 'alerts') {
                fetch('/api/explorer/alerts')
                    .then(response => response.json())
                    .then(data => {
                        gridElement.innerHTML = `
                            <div class="data-table-wrapper">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Alert Type</th>
                                            <th>Severity</th>
                                            <th>Message</th>
                                            <th>Timestamp</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${data.alerts.map(alert => `
                                            <tr>
                                                <td>${alert.type}</td>
                                                <td><span class="badge badge-${alert.severity.toLowerCase()}">${alert.severity}</span></td>
                                                <td>${alert.message}</td>
                                                <td>${alert.timestamp}</td>
                                                <td><span class="badge">${alert.status || 'Active'}</span></td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        `;
                    });
            } else {
                gridElement.innerHTML = '<div class="empty-state"><div class="empty-icon">üìÇ</div><p>Select a category to view data</p></div>';
            }
        }
        
        // Run pipeline
        function runPipeline(campaignId) {
            if (!campaignId) {
                // Get latest campaign if not specified
                campaignId = '{{ campaigns[0].id if campaigns else "" }}';
            }
            
            if (campaignId) {
                window.location.href = `/pipeline/${campaignId}`;
            } else {
                alert('No campaigns available. Please create a campaign first.');
            }
        }
        
        // Run AI Tool
        function runAITool(toolName) {
            // Show loading state
            const loadingHtml = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; animation: spin 2s linear infinite;">‚öôÔ∏è</div>
                    <p style="margin-top: 20px; color: #6e6e6e;">Initializing ${toolName.replace('_', ' ')}...</p>
                </div>
            `;
            
            // Create a modal or update content area
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 30px;
                border-radius: 8px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                z-index: 1000;
                min-width: 400px;
            `;
            modal.innerHTML = loadingHtml;
            document.body.appendChild(modal);
            
            // Simulate tool execution
            fetch('/api/run-ai-tool', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({tool: toolName})
            })
            .then(response => response.json())
            .then(data => {
                modal.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; color: #2d9d78;">‚úì</div>
                        <h3 style="margin: 20px 0 10px;">${toolName.replace('_', ' ')} Ready</h3>
                        <p style="color: #6e6e6e; margin-bottom: 20px;">${data.message || 'Tool initialized successfully'}</p>
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #1473e6; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">
                            Close
                        </button>
                    </div>
                `;
            })
            .catch(error => {
                modal.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; color: #e34850;">‚ö†Ô∏è</div>
                        <h3 style="margin: 20px 0 10px;">Error</h3>
                        <p style="color: #6e6e6e; margin-bottom: 20px;">Failed to initialize ${toolName.replace('_', ' ')}</p>
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #e34850; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">
                            Close
                        </button>
                    </div>
                `;
            });
        }
        
        // Load activity feed
        function loadActivityFeed() {
            fetch('/api/ai-monitor-activity')
                .then(response => response.json())
                .then(data => {
                    // Update alerts count
                    const alertsCount = data.recent_alerts ? data.recent_alerts.length : 0;
                    document.getElementById('alerts-count').textContent = alertsCount;
                    
                    // Update monitor alerts
                    const monitorAlerts = document.getElementById('monitor-alerts');
                    if (monitorAlerts && data.recent_alerts) {
                        monitorAlerts.innerHTML = data.recent_alerts.slice(0, 5).map(alert => {
                            const iconClass = alert.severity === 'HIGH' ? 'warning' : 
                                            alert.severity === 'MEDIUM' ? 'info' : 'success';
                            return `
                                <div class="activity-item">
                                    <div class="activity-icon ${iconClass}">
                                        ${alert.severity === 'HIGH' ? '‚ö†Ô∏è' : 'üìä'}
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">${alert.alert_type}</div>
                                        <div class="activity-description">${alert.message}</div>
                                    </div>
                                    <div class="activity-time">${new Date(alert.timestamp).toLocaleTimeString()}</div>
                                </div>
                            `;
                        }).join('');
                    }
                })
                .catch(error => console.error('Error loading activity:', error));
        }
        
        // Load activity on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadActivityFeed();
            // Refresh every 30 seconds
            setInterval(loadActivityFeed, 30000);
        });
    </script>
</body>
</html>